<section class="login">
    <div class="login__logo">
        <img src="assets/img/pootaa-color.svg" alt="Pootaa" />
    </div>
    <div *ngIf="pootaaAgent">
        <h4>Pootaa Agent Login</h4>
        <br />
    </div>
    <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
        <div class="login__input">
            <div>
                <input
                    type="email"
                    #email="ngModel"
                    name="email"
                    ngModel
                    required
                    placeholder="Email Address"
                    email
                />
                <span
                    class="form-error"
                    *ngIf="
                        loginForm.submitted &&
                        email.invalid &&
                        loginForm.controls.email?.errors?.required
                    "
                    >Field is required</span
                >
                <span
                    class="form-error"
                    *ngIf="
                        loginForm.submitted &&
                        email.invalid &&
                        loginForm.controls.email?.errors?.email
                    "
                    >Invalid email</span
                >
            </div>
            <div>
                <input
                    type="password"
                    #password="ngModel"
                    minlength="4"
                    name="password"
                    ngModel
                    required
                    placeholder="Password"
                /><span
                    class="form-error"
                    *ngIf="
                        loginForm.submitted &&
                        password.invalid &&
                        loginForm.controls.password?.errors?.required
                    "
                    >Field is required</span
                ><span
                    class="form-error"
                    *ngIf="
                        loginForm.submitted &&
                        password.invalid &&
                        loginForm.controls.password?.errors?.minlength
                    "
                    >Password should be at least 4 characters</span
                >
            </div>
        </div>
        <app-error-block *ngIf="errorType === 'login'"></app-error-block>
        <div class="login__sign-in">
            <button class="btn btn__primary" type="submit" [disabled]="loading">
                <span *ngIf="!loading"> Sign In</span>
                <img
                    *ngIf="loading"
                    src="assets/img/loading.gif"
                    alt="Loading..."
                    height="24px"
                />
            </button>
        </div>
        <br />
        <div>
            <small
                >Don't have an account?&nbsp;<a
                    [routerLink]="['/auth/register']"
                    class="primary underline"
                    >Sign Up</a
                >
                instead</small
            >
        </div>
        <div>
            <small *ngIf="!pootaaAgent"
                ><a
                    (click)="switchLogin(true)"
                    class="primary underline pointer"
                    >Sign in as an agent</a
                >
            </small>
            <small *ngIf="pootaaAgent"
                ><a
                    (click)="switchLogin(false)"
                    class="primary underline pointer"
                    >Sign in a user</a
                >
            </small>
        </div>
    </form>
    <div class="login__bottom">
        <p>Sign In With</p>
        <div class="login__btn--wrapper">
            <button class=" login__btn">
                <img src="assets/img/facebook.svg" alt="Facebook Login" />
            </button>
            <button class=" login__btn">
                <img src="assets/img/google.svg" alt="Google Login" />
            </button>
            <button class=" login__btn">
                <img src="assets/img/twitter.svg" alt="twitter Login" />
            </button>
        </div>
    </div>
</section>
